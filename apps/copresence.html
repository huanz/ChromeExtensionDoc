<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">
    <link type="image/ico" rel="icon" href="https://www.google.com/images/icons/product/chrome-32.png">

    <link href="../static/css/out/site.css" rel="stylesheet" type="text/css">
    <link href="../static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700%7CSource+Code+Pro' rel='stylesheet' type='text/css'>
    <title>chrome.copresence - Google Chrome 应用开发文档（非官方中文版）</title>
  </head>

  <body>
    <div id="gc-container">
    <a href="copresence.html#gc-pagecontent" class="element-invisible element-focusable">Skip to main content</a>

    <header id="topnav" role="banner">
      <div id="logo">
        <a href="../extensions/index.html" id="goto-original">
          <img alt="Chrome 开发者" src="../static/images/chrome-logo_2x.png">
        </a>
        <span class="collase-icon"><!-- <img src="/static/images/burger-icon.png" class="collase-icon">--></span>
      </div>
      <nav id="fatnav" role="navigation">
      <ul>
          <li class="pillar">
            <span class="toplevel">应用</span>
            <ul class="expandee">
                <li class="submenu">了解基础知识
                  <ul>
                      <li class="category">
                        <a href="about_apps.html">
                        什么是 Chrome 应用？
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="first_app.html">
                        创建第一个应用
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_architecture.html">
                        应用的架构
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_lifecycle.html">
                        应用的生命周期
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="contentSecurityPolicy.html">
                        内容安全策略
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_codelab1_setup.html">
                        通过代码实验室学习
                        </a>
                        <ul>
                            <li><a href="app_codelab1_setup.html">1、设置开发环境</a>
                            </li>
                            <li><a href="app_codelab2_basic.html">2、创建基本应用</a>
                            </li>
                            <li><a href="app_codelab3_mvc.html">3、创建 MVC</a>
                            </li>
                            <li><a href="app_codelab5_data.html">4、保存和获取数据</a>
                            </li>
                            <li><a href="app_codelab6_lifecycle.html">5、管理应用的生命周期</a>
                            </li>
                            <li><a href="app_codelab7_useridentification.html">6、访问用户数据</a>
                            </li>
                            <li><a href="app_codelab8_webresources.html">7、访问网络资源</a>
                            </li>
                            <li><a href="app_codelab_10_publishing.html">8、发布应用</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">在云端开发
                  <ul>
                      <li class="category">
                        <a href="offline_apps.html">
                        首先考虑离线
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_external.html">
                        处理外部内容
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_storage.html">
                        保存数据
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="inform_users.html">
                        随时通知用户
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="cloudMessaging.html">
                        云消息服务
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="richNotifications.html">
                        丰富的通知
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_identity.html">
                        用户认证
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">使用低级系统服务
                  <ul>
                      <li class="category">
                        <a href="app_usb.html">
                        USB
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_serial.html">
                        串行端口
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_network.html">
                        网络通信
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_bluetooth.html">
                        蓝牙
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">MVC 架构和框架
                  <ul>
                      <li class="category">
                        <a href="app_frameworks.html">
                        关于 MVC 架构
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="angular_framework.html">
                        使用 AngularJS 建立应用
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="sencha_framework.html">
                        使用 SenchaJS 建立应用
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="game_engines.html">
                        游戏引擎
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">发布应用
                  <ul>
                      <li class="category">
                        <a href="publish_app.html">
                        发布您的应用
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="chrome_apps_on_mobile.html">
                        在移动设备上运行 Chrome 应用
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="google_wallet.html">
                        通过应用获利
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="https://developer.chrome.com/webstore/one_time_payments">
                        一次性付款
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="analytics.html">
                        Analytics（分析）
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome 平台 API
                  <ul>
                      <li class="category">
                        <a href="api_index.html">
                        JavaScript API
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="manifest.html">
                        清单文件格式
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="tags/webview.html">
                        Webview 标签
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="api_other.html">
                        网页 API
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="app_deprecated.html">
                        禁用的网页特性
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">帮助
                  <ul>
                      <li class="category">
                        <a href="samples.html">
                        示例
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="faq.html">
                        常见问题
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps">
                        Google 网上论坛
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="http://stackoverflow.com/questions/tagged/google-chrome-app">
                        Stack Overflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">扩展程序</span>
            <ul class="expandee">
                <li class="submenu">了解基础知识
                  <ul>
                      <li class="category">
                        <a href="../extensions/getstarted.html">
                        入门教程
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/overview.html">
                        概述
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/hosting_changes.html">
                        托管扩展程序的更改
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/single_purpose.html">
                        扩展程序质量准测的常见问题
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/event_pages.html">
                        事件页面
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/content_scripts.html">
                        内容脚本
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/activeTab.html">
                        activeTab 权限
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/whats_new.html">
                        新增特性
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">开发扩展程序
                  <ul>
                      <li class="category">
                        <a href="../extensions/a11y.html">
                        辅助功能
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/contentSecurityPolicy.html">
                        内容安全策略
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/xhr.html">
                        跨站 XHR
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/tut_debugging.html">
                        调试
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/i18n.html">
                        国际化支持
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/messaging.html">
                        消息传递
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/tut_migration_to_manifest_v2.html">
                        迁移至清单文件版本 2
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/tut_oauth.html">
                        OAuth
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">发布扩展程序
                  <ul>
                      <li class="category">
                        <a href="../extensions/hosting.html">
                        托管
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/packaging.html">
                        打包
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="https://developer.chrome.com/webstore/one_time_payments">
                        一次性付款
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/autoupdate.html">
                        自动更新
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/external_extensions.html">
                        其他部署选项
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/tut_analytics.html">
                        Google Analytics（分析）
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/themes.html">
                        发布主题
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome 平台 API
                  <ul>
                      <li class="category">
                        <a href="../extensions/api_index.html">
                        JavaScript API
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/manifest.html">
                        清单文件格式
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/api_other.html">
                        网页 API
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/permission_warnings.html">
                        权限警告
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/permissions.html">
                        可选权限
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/match_patterns.html">
                        匹配表达式
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">帮助
                  <ul>
                      <li class="category">
                        <a href="../extensions/samples.html">
                        示例
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../extensions/faq.html">
                        常见问题
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-extensions">
                        Google 网上论坛
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="http://stackoverflow.com/tags/google-chrome-extension/info">
                        Stack Overflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
        <li id="search">
          <img src="../static/images/search.png">
          <div class="expandee">
      
      <!-- override search styles set globally by site.css -->
      <style>.gsc-above-wrapper-area, .gsc-result-info {
        font-size: 11px;
      }
      .gs-webResult div, .gs-result div {
        line-height: initial;
      }
      .gs-webResult a, .gs-result a {
        text-decoration: none;
      }
      td.gcsc-branding-img-noclear, .gcsc-branding-img-noclear a {
        width: 51px;
        height: 15px;
        vertical-align: top;
      }
      .gsc-table-result, .gsc-thumbnail-inside, .gsc-url-top {
        padding: 0;
      }
      .gsc-control-cse tr, .gsc-control-cse td, .gsc-control-cse th {
       padding: inherit;
       border: none;
      }
      .gsc-control-cse {
        white-space: normal;
        border: none;
        padding: 0 1em;
      }
      #search .gsc-control-cse img {
        height: inherit;
        width: inherit;
      }
      .gsc-control-cse table {
        margin: initial;
      }
      .gsc-control-cse * {
        box-sizing: initial;
        -webkit-box-sizing: initial;
        -moz-box-sizing: initial;
      }
      #fatnav .expandee .gsc-control-cse a {
       padding: 0;
       color: inherit;
      }
      </style>
      
            <form id="chrome-docs-cse-search-form" action="https://www.google.com/cse">
              <input type="search" id="chrome-docs-cse-input" name="q" placeholder="What are you looking for?">
              <input type="hidden" name="cx" value="016591469675702421090:ddw412-4i6q" />
              <input type="hidden" name="ie" value="UTF-8" />
            </form>
            <gcse:searchresults-only gname="results"></gcse:searchresults-only>
          </div>
        </li>
      </ul>
      </nav>
          </header>

    <main id="gc-pagecontent" role="main">


<p class="warning">
  <!--@This API is experimental. It is only available to Chrome users on the-->
  该 API 还是实验性的，仅对
  <a href="http://www.chromium.org/getting-involved/dev-channel">dev <!--@channel-->分支</a><!--@.-->的
  Chrome 用户可用。
</p>
<article>
  <div itemprop="articleBody" class="api">
    <h1>chrome.copresence</h1>
    <table class="intro" id="intro">
      <tr>
        <td class="title">描述<!--@:-->：</td>
        <td>
             <!--@Use the <code>chrome.copresence</code> API to communicate with other nearby
             devices using Google's copresence service.-->
             使用 <code>chrome.copresence</code> API 通过 Google 的共存服务与附近的设备通信。
                    <br>
        </td>
      </tr>
      <tr>
        <td class="title">可用版本<!--@:-->：</td>
        <td>
            <!--@<strong>Dev</strong> channel only.
            -->仅用于 <strong>Dev</strong> 分支。<!--@
            
             --><a href="api_index.html#dev_apis"><!--@Learn more-->了解更多内容</a><!--@.-->
            <br>
        </td>
      </tr>
      <tr>
        <td class="title">权限<!--@:-->：</td>
        <td>
            <span class="code">
            "copresence"
                    </span>
            <br>
        </td>
      </tr>
    </table>
    <section id="toc">
    <h2><!--@Summary-->摘要</h2>
    <table class="api-summary">
      <tr>
        <tr><th colspan="2"><!--@Types-->类型</th></tr>
          <tr><td><a href="copresence.html#type-Strategy">Strategy</a></td></tr>
          <tr><td><a href="copresence.html#type-Message">Message</a></td></tr>
          <tr><td><a href="copresence.html#type-AccessPolicy">AccessPolicy</a></td></tr>
          <tr><td><a href="copresence.html#type-PublishOperation">PublishOperation</a></td></tr>
          <tr><td><a href="copresence.html#type-SubscribeOperation">SubscribeOperation</a></td></tr>
          <tr><td><a href="copresence.html#type-UnpublishOperation">UnpublishOperation</a></td></tr>
          <tr><td><a href="copresence.html#type-UnsubscribeOperation">UnsubscribeOperation</a></td></tr>
          <tr><td><a href="copresence.html#type-Operation">Operation</a></td></tr>
        <tr><th colspan="2"><!--@Methods-->方法</th></tr>
        <tr><td><a href="copresence.html#method-execute">execute</a> &minus;
            <code class="prettyprint">
            chrome.copresence.execute(<span>array of     <a href="copresence.html#type-Operation">Operation</a> operations</span>, <span>function callback</span>)
            </code>
          </td></tr>
        <tr><th colspan="2"><!--@Events-->事件</th></tr>
          <tr><td><a href="copresence.html#event-onMessagesReceived">onMessagesReceived</a></td></tr>
          <tr><td><a href="copresence.html#event-onStatusUpdated">onStatusUpdated</a></td></tr>
    </table>
    </section>
    <section>
      <div class="api-reference">
          <h2 id="types"><!--@Types-->类型</h2>
            <div>
              <h3 id="type-Strategy">Strategy</h3>
              <table>
                  <tr><th colspan="3" id="Strategy-properties">属性</th></tr>
                  <tr id="property-Strategy-lowPower">
                    <td>boolean</td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        lowPower</td>
                    <td>
                    
                    <p>
                      <!--@Attempt to use low power mode. Defaults to false.--> 尝试使用低功耗模式，默认为 false。
                    </p></td>
                  </tr><tr id="property-Strategy-onlyBroadcast">
                    <td>boolean</td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        onlyBroadcast</td>
                    <td>
                    
                    <p>
                      <!--@Attempt to only broadcast. Using this with onlyScan can result in both being ignored. Defaults to false.--> 只尝试广播，同时使用 onlyScan 会使设备完全被忽略。默认为 false。
                    </p></td>
                  </tr><tr id="property-Strategy-onlyScan">
                    <td>boolean</td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        onlyScan</td>
                    <td>
                    
                    <p>
                      <!--@Attempt to only scan. Using this with onlyBroadcast can result in both being ignored. Defaults to false.--> 只尝试扫描，同时使用 onlyBroadcast 会使设备完全被忽略。默认为 false。
                    </p></td>
                  </tr><tr id="property-Strategy-audible">
                    <td>boolean</td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        audible</td>
                    <td>
                    
                    <p>
                      <!--@Attempt to use audible audio. Defaults to false.--> 尝试使用可听的音频，默认为 false。
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-Message">Message</h3>
              <table>
                  <tr><th colspan="3" id="Message-properties">属性</th></tr>
                  <tr id="property-Message-type">
                    <td>string</td>
                    <td>
                        type</td>
                    <td>
                    
                    <p>
                      <!--@The type of message being published. Cannot be empty.--> 要发布的消息类型，不能为空。
                    </p></td>
                  </tr><tr id="property-Message-payload">
                    <td>ArrayBuffer</td>
                    <td>
                        payload</td>
                    <td>
                    
                    <p>
                      <!--@The message payload, in raw bytes.--> 消息内容，以原始字节的形式表示。
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-AccessPolicy">AccessPolicy</h3>
              <table>
                  <tr><th colspan="3" id="AccessPolicy-properties">属性</th></tr>
                  <tr id="property-AccessPolicy-onlyEarshot">
                    <td>boolean</td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        onlyEarshot</td>
                    <td>
                    
                    <p>
                      <!--@Only send this message to devices within hearing range. Defaults to false.--> 只将该消息发送到可听范围内的设备。默认为 false。
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-PublishOperation">PublishOperation</h3>
              <table>
                  <tr><th colspan="3" id="PublishOperation-properties">属性</th></tr>
                  <tr id="property-PublishOperation-id">
                    <td>string</td>
                    <td>
                        id</td>
                    <td>
                    
                    <p>
                      <!--@A unique ID that identifies this publish.--> 标志本次发布的唯一标志符。
                    </p></td>
                  </tr><tr id="property-PublishOperation-message">
                    <td>    <a href="copresence.html#type-Message">Message</a></td>
                    <td>
                        message</td>
                    <td>
                    
                    <p>
                      <!--@The message to publish.--> 要发布的消息。
                    </p></td>
                  </tr><tr id="property-PublishOperation-timeToLiveMillis">
                    <td>integer</td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        timeToLiveMillis</td>
                    <td>
                    
                    <p>
                      <!--@The number of milliseconds for which this publication will be active. This is capped at 24 hours. If not provided, a default of 5 minutes is used.--> 本次发布活动的时间，以毫秒为单位，不超过 24 小时。如果未提供，默认为 5 分钟。
                    </p></td>
                  </tr><tr id="property-PublishOperation-policy">
                    <td>    <a href="copresence.html#type-AccessPolicy">AccessPolicy</a></td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        policy</td>
                    <td>
                    
                    <p>
                      <!--@A policy specifying who can get the message.--> 指定什么设备能收到该消息的策略。
                    </p></td>
                  </tr><tr id="property-PublishOperation-strategies">
                    <td>    <a href="copresence.html#type-Strategy">Strategy</a></td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        strategies</td>
                    <td>
                    
                    <p>
                      <!--@A set of strategies to use when publishing the message. These strategies are suggestions to copresence that may or may not be followed.--> 发布消息时采取的手段，这些手段仅仅是对共存服务的建议，可能遵守也可能不遵守。
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-SubscribeOperation">SubscribeOperation</h3>
              <table>
                  <tr><th colspan="3" id="SubscribeOperation-properties">属性</th></tr>
                  <tr id="property-SubscribeOperation-id">
                    <td>string</td>
                    <td>
                        id</td>
                    <td>
                    
                    <p>
                      <!--@A unique ID that identifies this subscription.--> 标志本次订阅的唯一标志符。
                    </p></td>
                  </tr><tr id="property-SubscribeOperation-filter">
                    <td>object</td>
                    <td>
                        filter</td>
                    <td>
                    
                    <p>
                      <!--@Filter that defines which messages we want to subscribe to.--> 定义需要订阅哪些消息的过滤器。
                    </p>  <table class="innerTable">
                        <tr id="property-filter-type">
                          <td>string</td>
                          <td>
                              type</td>
                          <td>
                          
                          <p>
                            <!--@The type of messages to subscribe to. Cannot be empty.--> 要订阅的消息类型，不能为空。
                          </p></td>
                        </tr>
                      </table>
                    </td>
                  </tr><tr id="property-SubscribeOperation-timeToLiveMillis">
                    <td>integer</td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        timeToLiveMillis</td>
                    <td>
                    
                    <p>
                      <!--@The number of milliseconds for which this subscription will be active. This is capped at 24 hours. If not provided, a default of 5 minutes is used.--> 本次订阅活动的时间，以毫秒为单位，不超过 24 小时。如果未提供，默认为 5 分钟。
                    </p></td>
                  </tr><tr id="property-SubscribeOperation-strategies">
                    <td>    <a href="copresence.html#type-Strategy">Strategy</a></td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        strategies</td>
                    <td>
                    
                    <p>
                      <!--@A set of strategies to use when subscribing with this filter. These strategies are suggestions to copresence that may or may not be followed.--> 使用指定过滤器订阅时采取的手段，这些手段仅仅是对共存服务的建议，可能遵守也可能不遵守。
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-UnpublishOperation">UnpublishOperation</h3>
              <table>
                  <tr><th colspan="3" id="UnpublishOperation-properties">属性</th></tr>
                  <tr id="property-UnpublishOperation-unpublishId">
                    <td>string</td>
                    <td>
                        unpublishId</td>
                    <td>
                    
                    <p>
                      <!--@The ID of a message to unpublish. Required if the operation type is 'unpublish'.--> 要取消发布的消息标识符，如果操作类型为 'unpublish' 则必须指定。
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-UnsubscribeOperation">UnsubscribeOperation</h3>
              <table>
                  <tr><th colspan="3" id="UnsubscribeOperation-properties">属性</th></tr>
                  <tr id="property-UnsubscribeOperation-unsubscribeId">
                    <td>string</td>
                    <td>
                        unsubscribeId</td>
                    <td>
                    
                    <p>
                      <!--@The ID of a subscription to cancel. Required if the operation type is 'unsubscribe'.--> 要取消的订阅标识符，如果操作类型为 'unsubscribe' 则必须指定。
                    </p></td>
                  </tr>
              </table>
            </div>
            <div>
              <h3 id="type-Operation">Operation</h3>
              <table>
                  <tr><th colspan="3" id="Operation-properties">属性</th></tr>
                  <tr id="property-Operation-publish">
                    <td>    <a href="copresence.html#type-PublishOperation">PublishOperation</a></td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        publish</td>
                    <td>
                    
                    <p>
                      <!--@Publication details. Required if the operation type is 'publish'.--> 发布详情，如果操作类型为 'publish' 则必须指定。
                    </p></td>
                  </tr><tr id="property-Operation-subscribe">
                    <td>    <a href="copresence.html#type-SubscribeOperation">SubscribeOperation</a></td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        subscribe</td>
                    <td>
                    
                    <p>
                      <!--@Subscription details. Required if the operation type is 'subscribe'.--> 订阅详情，如果操作类型为 'subscribe' 则必须指定。
                    </p></td>
                  </tr><tr id="property-Operation-unpublish">
                    <td>    <a href="copresence.html#type-UnpublishOperation">UnpublishOperation</a></td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        unpublish</td>
                    <td>
                    
                    <p>
                      <!--@Unpublish details. Required if the operation type is 'unpublish'.--> 取消发布的详情，如果操作类型为 'unpublish' 则必须指定。
                    </p></td>
                  </tr><tr id="property-Operation-unsubscribe">
                    <td>    <a href="copresence.html#type-UnsubscribeOperation">UnsubscribeOperation</a></td>
                    <td><span class="optional"><!--@(optional)-->（可选）</span><br>
                        unsubscribe</td>
                    <td>
                    
                    <p>
                      <!--@Unsubscribe details. Required if the operation type is 'unsubscribe'.--> 取消订阅的详情，如果操作类型为 'unsubscribe' 则必须指定。
                    </p></td>
                  </tr>
              </table>
            </div>
          <h2 id="methods"><!--@Methods-->方法</h2>
            <div>
              <h3
                  id="method-execute"
                  >execute
              </h3>
              <div class="summary uncapitalize">
              <code class="prettyprint">
              chrome.copresence.execute(<span>array of     <a href="copresence.html#type-Operation">Operation</a> operations</span>, <span>function callback</span>)
              </code>
              </div>
              <div class="description">
                <p>
                  <!--@Executes a set of copresence operations in one batch. They will either all be executed, or none will be executed (due to an error in one or more of them). Publish/Subscribe operations are executed in the order that they exist in the array. Unpublish and Unsubscribe are processsed at the end, again, in the order that they exist in the array.--> 批量进行一系列共存操作，要么全部执行，要么完全不执行（由于其中某一个或多个操作的错误）。发布/订阅操作按照数组中存在的顺序执行，取消发布和取消订阅操作最后处理，同样按照数组中存在的顺序。
                </p>
                <table >
                  <tr><th colspan="3"><!--@Parameters-->参数</th></tr>
                    <tr id="property-execute-operations">
                      <td>array of     <a href="copresence.html#type-Operation">Operation</a></td>
                      <td>
                          operations</td>
                      <td>
                      
                      </td>
                    </tr>
                    <tr id="property-execute-callback">
                      <td>function</td>
                      <td>
                          callback</td>
                      <td>
                      
                      <p>
                        <!--@Callback to return the status of a completed batchExecute() call.--> 返回 batchExecute() 调用状态的回调函数。
                      </p>    <p>
                              <!--@The <em>callback</em> parameter should be a function
                              that looks like this:-->
                              <em>callback</em> 参数应该是一个如下形式的函数：
                          </p>
                        <code class="prettyprint">function(enum of <code>"success"</code>, <code>"failed"</code>, <code>"serverError"</code>, or <code>"initFailed"</code> status) <span class="subdued">{...}</span>;</code>
                          <table class="innerTable">
                            <tr id="property-callback-status">
                              <td>enum of <code>"success"</code>, <code>"failed"</code>, <code>"serverError"</code>, or <code>"initFailed"</code></td>
                              <td>
                                  status</td>
                              <td>
                              
                                  <dl>
                                    <dt>success</dt>
                                    <dd>
                                      <!--@All operations sent to batchExecute succeeded.--> 发送给 batchExecute 的所有操作都成功了。
                                    </dd>
                                  </dl>
                                  <dl>
                                    <dt>failed</dt>
                                    <dd>
                                      <!--@One of the operations sent to batchExecute failed.--> 发送给 batchExecute 的某一项操作失败了。
                                    </dd>
                                  </dl>
                                  <dl>
                                    <dt>serverError</dt>
                                    <dd>
                                      <!--@Contacting the Copresence server failed.--> Copresence 服务器连接失败。
                                    </dd>
                                  </dl>
                                  <dl>
                                    <dt>initFailed</dt>
                                    <dd>
                                      <!--@Initializing Copresence failed.--> Copresence 服务无法初始化。
                                    </dd>
                                  </dl>
                              </td>
                            </tr>
                          </table>
                      </td>
                    </tr>
                </table>
              </div>
            </div>
          <h2 id="events"><!--@Events-->事件</h2>
            <div>
              <h3 id="event-onMessagesReceived">onMessagesReceived</h3>
              <div class="description">
            <p>
                  <!--@Fired when new messages arrive.--> 收到新消息时产生。
                </p>      <tr><td>
                  <div>
                    <h4
                        title="">addListener
                    </h4>
                    <div class="summary uncapitalize">
                    <code class="prettyprint">
                    chrome.copresence.onMessagesReceived.addListener(<span>function callback</span>)
                    </code>
                    </div>
                    <div class="description">
                      <table class="innerTable">
                        <tr><th colspan="3"><!--@Parameters-->参数</th></tr>
                          <tr id="property-onMessagesReceived-callback">
                            <td>function</td>
                            <td>
                                callback</td>
                            <td>
                            
                                <p>
                                    <!--@The <em>callback</em> parameter should be a function
                                    that looks like this:-->
                                    <em>callback</em> 参数应该是一个如下形式的函数：
                                </p>
                              <code class="prettyprint">function(string subscriptionId, array of     <a href="copresence.html#type-Message">Message</a> messages) <span class="subdued">{...}</span>;</code>
                                <table class="innerTable">
                                  <tr id="property-onMessagesReceived-subscriptionId">
                                    <td>string</td>
                                    <td>
                                        subscriptionId</td>
                                    <td>
                                    
                                    </td>
                                  </tr>
                                  <tr id="property-onMessagesReceived-messages">
                                    <td>array of     <a href="copresence.html#type-Message">Message</a></td>
                                    <td>
                                        messages</td>
                                    <td>
                                    
                                    </td>
                                  </tr>
                                </table>
                            </td>
                          </tr>
                      </table>
                    </div>
                  </div>
                  </td></tr>
              </div>
            </div>
            <div>
              <h3 id="event-onStatusUpdated">onStatusUpdated</h3>
              <div class="description">
            <p>
                  <!--@Fired when a new copresence status update is available.--> 新的共存状态更新可用时产生。
                </p>      <tr><td>
                  <div>
                    <h4
                        title="">addListener
                    </h4>
                    <div class="summary uncapitalize">
                    <code class="prettyprint">
                    chrome.copresence.onStatusUpdated.addListener(<span>function callback</span>)
                    </code>
                    </div>
                    <div class="description">
                      <table class="innerTable">
                        <tr><th colspan="3"><!--@Parameters-->参数</th></tr>
                          <tr id="property-onStatusUpdated-callback">
                            <td>function</td>
                            <td>
                                callback</td>
                            <td>
                            
                                <p>
                                    <!--@The <em>callback</em> parameter should be a function
                                    that looks like this:-->
                                    <em>callback</em> 参数应该是一个如下形式的函数：
                                </p>
                              <code class="prettyprint">function(enum of <code>"audioFailed"</code>, or <code>"serverError"</code> status) <span class="subdued">{...}</span>;</code>
                                <table class="innerTable">
                                  <tr id="property-onStatusUpdated-status">
                                    <td>enum of <code>"audioFailed"</code>, or <code>"serverError"</code></td>
                                    <td>
                                        status</td>
                                    <td>
                                    
                                        <dl>
                                          <dt>audioFailed</dt>
                                          <dd>
                                            <!--@We attempted to broadcast audio but weren't able to.--> 尝试广播音频但是失败了。
                                          </dd>
                                        </dl>
                                        <dl>
                                          <dt>serverError</dt>
                                          <dd>
                                            <!--@Contacting the Copresence server failed.--> Copresence 服务器连接失败。
                                          </dd>
                                        </dl>
                                    </td>
                                  </tr>
                                </table>
                            </td>
                          </tr>
                      </table>
                    </div>
                  </div>
                  </td></tr>
              </div>
            </div>
      </div>
    </section>

    <br>
    <footer id="cc-info">
      <!--<button id="send-feedback" class="google-button" data-feedback>Send Feedback</button>-->
      <!--p class="last-updated">Last updated August 2, 2013.</p-->
      <p class="cc-logo">
      该网页翻译自
      <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
      与
      <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>，遵循
      <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License <img src="../static/images/cc_by.png" alt="Licensed Creative Commons by Attribution"></a></p>
    </footer>
  </div>
</article>
    </main>

    <footer id="gc-footer" role="contentinfo" class="span-full">
      <div class="g-section g-tpl-50-50">
        <div class="g-unit g-first">
          <nav class="links">
            <a href="https://code.google.com/p/crxdoczh/">crxdoczh 项目主页</a>
            <a href="https://code.google.com/p/crxdoczh/issues/entry?template=%E7%BD%91%E7%AB%99%E5%8F%8D%E9%A6%88">发送反馈</a>
            <a href="https://plus.google.com/communities/105384952265487436177">Google+ 社群</a>
          </nav>
        </div>
        <div class="g-unit g-last">
          <div id="social-buttons">
            <div data-size="small" data-annotation="bubble" class="g-plusone"></div>
            <a rel="publisher" target="_blank" href="https://plus.google.com/+Crxdoc-zhAppspot?prsrc=3" data-g-label="plus" data-g-event="nav-subfooter"><!--@Add us on-->在 <span class="element-invisible">Google+</span><img src="https://ssl.gstatic.com/images/icons/gplus-16.png" data-g-label="plus" data-g-event="nav-subfooter" alt=""> 上关注我们</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="../static/js/fatnav.js"></script>
    <script src="../static/js/article.js"></script>
    <script src="../static/js/prettify.js"></script>
    <script src="../static/js/search.js"></script>
    <script src="../static/js/site.js"></script>
  </body>
</html>
